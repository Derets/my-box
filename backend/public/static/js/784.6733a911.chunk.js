"use strict";(self.webpackChunkmy_box=self.webpackChunkmy_box||[]).push([[784],{6004:function(e,r,s){s.d(r,{Z:function(){return x}});s(2791);var n="OrderBoxLoader_orderCardSceleton__DP7PL",t="OrderBoxLoader_orderCardSceletonInfo__LqiH2",a="OrderBoxLoader_orderCardSceletonStatus__gtuqP",o="OrderBoxLoader_orderCardSceletonBasicLine__VkDWw",c="OrderBoxLoader_orderCardSceletonSmallLine__Bo+4i",d="OrderBoxLoader_orderCardSceletonLargeLine__cn8S+",i="OrderBoxLoader_orderCardSceletonDescription__iO3ur",l="OrderBoxLoader_OBcontentModel__Gp44c",u=s(184),x=function(){return(0,u.jsxs)("div",{className:n,children:[(0,u.jsxs)("div",{className:t,children:[(0,u.jsx)("div",{className:a}),(0,u.jsx)("div",{className:o}),(0,u.jsx)("div",{className:c}),(0,u.jsx)("div",{className:d}),(0,u.jsx)("div",{className:c})]}),(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("div",{className:a}),(0,u.jsx)("div",{className:d}),(0,u.jsx)("div",{className:o}),(0,u.jsx)("div",{className:c}),(0,u.jsx)("div",{className:c})]}),(0,u.jsx)("div",{className:l})]})}},5478:function(e,r,s){s.r(r),s.d(r,{default:function(){return O}});var n=s(2791),t=s(4165),a=s(5861),o=s(9439),c=s(8634),d=s(5794),i="UserOrders_wrapper__5g5fH",l="UserOrders_UserOrdersSection__j35qM",u="UserOrders_UserOrders__b5mYI",x="UserOrders_OrdersTitle__I64mH",_="UserOrders_OrdersDeleteAll__oSaCH",h=(s(4469),s(1224)),f=s(1095),m=s(7419),j=s(6004),v=s(7689),p=s(184),N=function(){var e=(0,n.useState)(0),r=(0,o.Z)(e,2),s=r[0],N=r[1],O=(0,n.useState)(void 0),S=(0,o.Z)(O,2),Z=S[0],g=S[1],k=(0,n.useState)(!1),C=(0,o.Z)(k,2),L=C[0],w=C[1],B=(0,n.useState)(!1),b=(0,o.Z)(B,2),D=b[0],U=b[1],E=(0,n.useState)(!1),I=(0,o.Z)(E,2),y=I[0],T=I[1],q=(0,n.useState)(!1),F=(0,o.Z)(q,2),H=F[0],P=F[1],V=(0,n.useContext)(h.V).role,z=("admin"===V||"main"===V)&&localStorage.getItem("user_id_for_orders")||localStorage.getItem("user_id"),A=(0,n.useContext)(h.V),G=A.token,M=A.isLoggedIn,R="en"===(0,n.useContext)(d.A).language,$=(0,v.s0)(),W=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!1),T(!1),e.prev=2,e.next=5,fetch("".concat("http://localhost:5000/").concat(z,"/orders"),{method:"DELETE",headers:{authorization:"Bearer "+G}});case 5:if((r=e.sent).ok){e.next=8;break}throw new Error("Request failed");case 8:return e.next=10,r.json();case 10:e.sent,U(!1),T(!0),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0),U(!1),T(!1);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r,s,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),!z){e.next=19;break}return e.prev=2,e.next=5,fetch("".concat("http://localhost:5000/").concat(z,"/orders"),{method:"GET",headers:{authorization:"Bearer "+G}});case 5:if((r=e.sent).ok){e.next=8;break}throw new Error("Request failed");case 8:return e.next=10,r.json();case 10:s=e.sent,g(s),n=s.orders.reduce((function(e,r){return e+r.price}),0),N(n.toFixed(2)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.error(e.t0);case 19:w(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){M||$("/authentication"),Y()}),[]),(0,p.jsx)("div",{className:l,children:(0,p.jsxs)("div",{className:i,children:[H&&(0,p.jsx)(f.Z,{onClick:function(){P(!1)},children:(0,p.jsx)(m.Z,{textEnglish:"Do you really want to delete all orders!?",textUkranian:"\u0412\u0438 \u043d\u0430\u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0441\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f!?",onUnconfirm:function(){P(!1)},onConfirm:function(){P(!1),W()}})}),(0,p.jsx)("div",{className:x,children:R?"Orders":"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),L||void 0!==Z&&0!==Z.orders.length?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{className:_,disabled:y,onClick:function(){P(!0)},children:[D&&R&&"Deleting...",D&&!R&&"\u0412\u0438\u0434\u0430\u043b\u044f\u0454\u0442\u044c\u0441\u044f...",!D&&R&&!y&&"Delete all orders",!D&&!R&&!y&&"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0432\u0441\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",!D&&R&&y&&"Deleted",!D&&!R&&y&&"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e"]}),(0,p.jsxs)("p",{children:[R?"Total: $":"\u0412\u0441\u044c\u043e\u0433\u043e: $",s]})]}):(0,p.jsx)("div",{className:x,children:R?"There are no orders":"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),!z&&!L&&(0,p.jsx)("div",{className:x,children:R?"There is no user Id. Please re-log in":"\u0412\u0430\u0448 \u0430\u0439\u0434\u0456 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u0435\u0440\u0435\u0437\u0430\u0439\u0434\u0456\u0442\u044c"}),(0,p.jsxs)("div",{className:u,children:[Z&&Z.orders&&Z.orders.map((function(e,r){return(0,p.jsx)(c.Z,{order:e},r)})),L&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Z,{}),(0,p.jsx)(j.Z,{}),(0,p.jsx)(j.Z,{})]})]})]})})},O=function(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(N,{})})}}}]);
//# sourceMappingURL=784.6733a911.chunk.js.map