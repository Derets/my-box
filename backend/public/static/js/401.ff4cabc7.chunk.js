"use strict";(self.webpackChunkmy_box=self.webpackChunkmy_box||[]).push([[401],{5193:function(e,n,r){r(2791);n.Z=r.p+"static/media/icon-google.9a7800d06783d80a1c12249a8ca58e9d.svg"},7419:function(e,n,r){r.d(n,{Z:function(){return d}});var t=r(2791),s=r(5794),a="ConfirmModel_ModalAuthError__wWht-",o="ConfirmModel_modalButtons__tMHtf",l="ConfirmModel_modalBTNUnconfirm__wVr2V",i="ConfirmModel_modalBTNConfirm__+egAA",c=r(184),d=function(e){var n="en"===(0,t.useContext)(s.A).language;return(0,c.jsxs)("div",{className:a,children:[(0,c.jsx)("h1",{children:n?e.textEnglish:e.textUkranian}),(0,c.jsxs)("div",{className:o,children:[(0,c.jsx)("div",{className:l,id:"modalBtn",onClick:e.onUnconfirm,children:n?"No, i don`t!":"\u041d\u0456, \u043d\u0435 \u0445\u043e\u0447\u0443!"}),(0,c.jsx)("div",{className:i,id:"modalBtn",onClick:e.onConfirm,children:n?"Yeap":"\u0422\u0430\u043a"})]})]})}},2865:function(e,n,r){r.d(n,{Z:function(){return i}});var t=r(2791),s=r(5794),a="ErrorModal_ModalAuthError__NoA5V",o="ErrorModal_modalBTN__kzYEi",l=r(184),i=function(e){var n="en"===(0,t.useContext)(s.A).language;return(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)("h1",{children:n?"An error accured!":"\u0423\u043f\u0441... \u0412\u0456\u0434\u0431\u0443\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430!"}),(0,l.jsx)("p",{children:e.error}),(0,l.jsx)("div",{className:o,id:"modalBtn",onClick:e.onClick,children:"OK"})]})}},1095:function(e,n,r){var t=r(2791),s=r(6547),a=r(4164),o=r(184),l=function(e){return(0,o.jsx)("div",{onClick:null===e||void 0===e?void 0:e.onClick,className:s.Z.backdrop})},i=function(e){return(0,o.jsx)("div",{className:s.Z.modal,children:(0,o.jsx)("div",{children:e.children})})},c=document.getElementById("overlays");n.Z=function(e){return(0,t.useEffect)((function(){var e=document.getElementById("modalBtn");null===e||void 0===e||e.focus()}),[]),(0,o.jsxs)(o.Fragment,{children:[a.createPortal((0,o.jsx)(l,{onClick:null===e||void 0===e?void 0:e.onClick}),c),a.createPortal((0,o.jsx)(i,{children:e.children}),c)]})}},1402:function(e,n,r){r.d(n,{Z:function(){return i}});var t=r(2791),s=r(5794),a="SuccessModal_ModalAuthError__1ws38",o="SuccessModal_modalBTN__40Yj6",l=r(184),i=function(e){var n="en"===(0,t.useContext)(s.A).language;return(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)("h1",{children:n?"Success!":"\u0412\u0441\u0435 \u0434\u043e\u0431\u0440\u0435!"}),(0,l.jsx)("p",{children:e.text}),(0,l.jsx)("div",{className:o,id:"modalBtn",onClick:e.onClick,children:"OK"})]})}},3760:function(e,n,r){r.d(n,{Z:function(){return d}});r(2791);var t="ToolTip_tooltip__WhIiq",s="ToolTip_light__nu9j4",a="ToolTip_tooltiptext__XqOOi",o="ToolTip_bottom__Qh377";var l=r.p+"static/media/icons-info.7563e7b5184b6681d1d127ce98fd6739.svg";var i=r.p+"static/media/icons-info-light.831b489f7d39107afc55bfb6f3e1e748.svg",c=r(184),d=function(e){var n="".concat(t," ").concat(e.light?s:null," ").concat(e.bottom?o:null);return(0,c.jsxs)("div",{className:n,children:[e.light?(0,c.jsx)("img",{src:i,alt:"",width:20,height:20}):(0,c.jsx)("img",{src:l,alt:"",width:20,height:20}),(0,c.jsx)("span",{className:a,children:e.text})]})}},5401:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var t=r(2791),s=r(4165),a=r(5861),o=r(9439),l={wrapper:"UserProfile_wrapper__aVSzP",ProfileSection:"UserProfile_ProfileSection__lua0u",ProfileContent:"UserProfile_ProfileContent__2U+Xn",ProfileTitle:"UserProfile_ProfileTitle__YSgFl",ProfileInputs:"UserProfile_ProfileInputs__mmVmD",ProfileInput:"UserProfile_ProfileInput__xasiz",ProfileLabel:"UserProfile_ProfileLabel__ZyupG",ProfileValue:"UserProfile_ProfileValue__ayL8F",ProfileOrdersLink:"UserProfile_ProfileOrdersLink__4JaBm",EditButtons:"UserProfile_EditButtons__taJqC",ProfileSaveButton:"UserProfile_ProfileSaveButton__+k5EF",ProfileDeleteButton:"UserProfile_ProfileDeleteButton__SCpu0"},i=r(5794),c=r(1095),d=r(2865),u=r(1402),f=r(7419),h=r(7689),p=r(1087),x=r(1224),m=r(4469),j=r(5193),_=r(3760),v=r(184),g=function(){var e=(0,t.useState)(""),n=(0,o.Z)(e,2),r=n[0],g=n[1],P=(0,t.useState)("user"),w=(0,o.Z)(P,2),N=w[0],b=w[1],k=(0,t.useState)(""),C=(0,o.Z)(k,2),Z=C[0],y=C[1],S=(0,t.useState)(!1),E=(0,o.Z)(S,2),T=E[0],B=E[1],I=(0,t.useState)(""),M=(0,o.Z)(I,2),U=M[0],L=M[1],A=(0,t.useState)(0),V=(0,o.Z)(A,2),D=V[0],O=V[1],z=(0,t.useState)(""),F=(0,o.Z)(z,2),G=F[0],J=F[1],Y=(0,t.useState)(""),q=(0,o.Z)(Y,2),K=q[0],Q=q[1],H=(0,t.useState)(""),R=(0,o.Z)(H,2),W=R[0],X=R[1],$=(0,t.useState)(""),ee=(0,o.Z)($,2),ne=ee[0],re=ee[1],te=(0,t.useState)(""),se=(0,o.Z)(te,2),ae=se[0],oe=se[1],le=(0,t.useState)(null),ie=(0,o.Z)(le,2),ce=ie[0],de=ie[1],ue=(0,t.useState)(!1),fe=(0,o.Z)(ue,2),he=(fe[0],fe[1]),pe=(0,t.useState)(!1),xe=(0,o.Z)(pe,2),me=xe[0],je=xe[1],_e=(0,t.useState)(!1),ve=(0,o.Z)(_e,2),ge=ve[0],Pe=ve[1],we=(0,t.useState)(!1),Ne=(0,o.Z)(we,2),be=Ne[0],ke=Ne[1],Ce=(0,t.useState)(!0),Ze=(0,o.Z)(Ce,2),ye=Ze[0],Se=Ze[1],Ee=(0,t.useState)(!1),Te=(0,o.Z)(Ee,2),Be=Te[0],Ie=Te[1],Me=localStorage.getItem("user_id"),Ue=(0,t.useContext)(x.V),Le=Ue.logout,Ae=Ue.token,Ve=Ue.isLoggedIn,De="en"===(0,t.useContext)(i.A).language,Oe=(0,h.s0)(),ze=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie(!0),console.log("http://localhost:5000/"),!Me){e.next=26;break}return e.prev=3,e.next=6,fetch("".concat("http://localhost:5000/").concat(Me),{method:"GET",headers:{authorization:"Bearer "+Ae}});case 6:if((n=e.sent).ok){e.next=9;break}throw new Error("Request failed");case 9:return e.next=11,n.json();case 11:r=e.sent,J(r.user.city),Q(r.user.post),b(r.user.role),B(r.user.byGoogle),g(r.user.name),y(r.user.email),L(r.user.number),O(r.user.orders.length),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),console.error(e.t0),de(e.t0.message||"Something went wrong, please try again  ");case 26:Ie(!1);case 27:case"end":return e.stop()}}),e,null,[[3,22]])})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){Ve||Oe("/authentication"),ze()}),[]);var Fe=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,he(!0),de(null),Me&&""!==Me){e.next=5;break}throw new Error("There is no userId");case 5:return e.next=7,fetch("".concat("http://localhost:5000/").concat(Me),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer "+Ae}});case 7:return n=e.sent,e.next=10,n.json();case 10:if(r=e.sent,n.ok){e.next=13;break}throw new Error(r.message);case 13:he(!1),localStorage.setItem("user_id",""),Le(),Oe("/authentication"),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0),de(e.t0.message||"Something went wrong, please try again  "),he(!1);case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ke(!0),de(null),Me&&""!==Me){e.next=5;break}throw new Error("There is no userId, please go back to the order list");case 5:if(""!==ne||""!==ae||""!==W){e.next=8;break}e.next=14;break;case 8:if(""!==ne&&""!==ae&&""!==W){e.next=12;break}throw new Error("Please enter a valid password");case 12:if(ne===ae){e.next=14;break}throw new Error("New passwords are different, please enter valid passwords");case 14:return e.next=16,fetch("".concat("http://localhost:5000/").concat(Me),{method:"PATCH",headers:{"Content-Type":"application/json",authorization:"Bearer "+Ae},body:JSON.stringify({name:r,password:W,newpassword:ne,post:K,number:U,city:G})});case 16:return n=e.sent,e.next=19,n.json();case 19:if(t=e.sent,n.ok){e.next=22;break}throw new Error(t.message);case 22:ke(!1),Pe(!0),Se(!0),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(0),console.log(e.t0),de(e.t0.message||"Something went wrong, please try again  "),ke(!1);case 32:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("section",{className:l.ProfileSection,children:[ce&&(0,v.jsx)(c.Z,{onClick:function(){de(null)},children:(0,v.jsx)(d.Z,{error:ce,onClick:function(){de(null)}})}),ge&&(0,v.jsx)(c.Z,{onClick:function(){Pe(!1)},children:(0,v.jsx)(u.Z,{text:"Saved Successfully",onClick:function(){Pe(!1)}})}),me&&(0,v.jsx)(c.Z,{onClick:function(){je(!1)},children:(0,v.jsx)(f.Z,{textEnglish:"Do you really want to delete your account?",textUkranian:"\u0412\u0438 \u043d\u0430\u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0441\u0432\u0456\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442?",onUnconfirm:function(){je(!1)},onConfirm:function(){je(!1),Fe()}})}),(0,v.jsx)("div",{className:l.wrapper,children:(0,v.jsxs)("div",{className:l.ProfileContent,children:[(0,v.jsxs)("div",{className:l.ProfileTitle,children:[De?"My Profile":"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",T&&(0,v.jsx)("img",{src:j.Z,height:30}),T&&(0,v.jsx)("p",{children:(0,v.jsx)(_.Z,{bottom:!0,text:De?"The Google icon is an indicator that you have registered using Google authentication":"\u0417\u043d\u0430\u0447\u043e\u043a \u0433\u0443\u0433\u043b \u0454 \u0456\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c, \u0449\u043e \u0432\u0438 \u0437\u0430\u0440\u0454\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u043b\u0438\u0441\u044c \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0433\u0443\u0433\u043b-\u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0457"})})]}),(0,v.jsxs)("div",{className:l.ProfileInfo,children:[(0,v.jsxs)("div",{className:l.ProfileInputs,children:[Be&&(0,v.jsx)(m.Z,{}),T?(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:De?"Name":"\u0406\u043c'\u044f"})}),(0,v.jsx)("span",{className:l.ProfileValue,children:(0,v.jsx)("p",{children:r})})]}):(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:De?"Name":"\u0406\u043c'\u044f"})}),(0,v.jsx)("input",{placeholder:De?"Enter you name":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c`\u044f",value:r,type:"text",onChange:function(e){g(e.target.value),Se(!1)}})]}),(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:"Email"})}),(0,v.jsx)("span",{className:l.ProfileValue,children:(0,v.jsx)("p",{children:Z})})]}),(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsxs)("p",{children:[De?"Tel. Number":"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",(0,v.jsx)(_.Z,{bottom:!0,text:De?"Fill in your personal information to make further orders more convenient!":"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e, \u0449\u043e\u0431 \u0440\u043e\u0431\u0438\u0442\u0438 \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u0456 \u0437\u0430\u043a\u0430\u0437\u0438 \u0431\u0443\u043b\u043e \u0437\u0440\u0443\u0447\u043d\u0456\u0448\u0435!"})]})}),(0,v.jsx)("input",{placeholder:De?"Enter phone number":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",type:"text",value:U,onChange:function(e){L(e.target.value),Se(!1)}})]}),(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:De?"City":"\u041c\u0456\u0441\u0442\u043e"})}),(0,v.jsx)("input",{placeholder:De?"Enter name of your city":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043c\u0456\u0441\u0442\u0430",type:"text",value:G,onChange:function(e){J(e.target.value),Se(!1)}})]}),(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:De?"Post Department":"\u041f\u043e\u0447\u0442\u043e\u0432\u0438\u0439 \u0432\u0456\u0434\u0434\u0456\u043b"})}),(0,v.jsx)("input",{placeholder:De?"Enter your post department":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u043e\u0448\u0442\u043e\u0432\u0435 \u0432\u0456\u0434\u0456\u043b\u0435\u043d\u043d\u044f",type:"text",value:K,onChange:function(e){Q(e.target.value),Se(!1)}})]}),(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:"User Id"})}),(0,v.jsx)("span",{className:l.ProfileValue,children:(0,v.jsxs)("p",{children:[Me,"\xa0","admin"===N||"main"===N?"(Role: ".concat(N,")"):""]})})]}),(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:De?"Number of orders":"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"})}),(0,v.jsx)("span",{className:l.ProfileValue,children:(0,v.jsxs)("p",{children:[D,"\xa0\xa0",(0,v.jsx)(p.rU,{to:"/orders",className:l.ProfileOrdersLink,children:De?"To my orders":"\u0414\u043e \u043c\u043e\u0457\u0445 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"})]})})]}),!T&&(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:De?"Current password":"\u041d\u0438\u043d\u0456\u0448\u043d\u0456\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),(0,v.jsx)("input",{placeholder:De?"Enter name of your current password":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0438\u043d\u0456\u0448\u043d\u0456\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",value:W,onChange:function(e){X(e.target.value),Se(!1)}})]}),!T&&(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:De?"New password":"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),(0,v.jsx)("input",{placeholder:De?"Enter a new password":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"newpassword",value:ne,onChange:function(e){re(e.target.value),Se(!1)}})]}),!T&&(0,v.jsxs)("div",{className:l.ProfileInput,children:[(0,v.jsx)("span",{className:l.ProfileLabel,children:(0,v.jsx)("p",{children:De?"New password":"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),(0,v.jsx)("input",{placeholder:De?"Enter a new password one more time":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0449\u0435 \u0440\u0430\u0437",type:"password",id:"newpassword2",value:ae,onChange:function(e){oe(e.target.value),Se(!1)}})]})]}),(0,v.jsxs)("div",{className:l.EditButtons,children:[(0,v.jsxs)("button",{className:l.ProfileSaveButton,onClick:Ge,disabled:ye,children:[be&&De&&"Saving...",be&&!De&&"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...",!be&&De&&"Save",!be&&!De&&"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"]}),(0,v.jsx)("button",{className:l.ProfileDeleteButton,onClick:function(){return je(!0)},children:De?"Delete my account":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043c\u0456\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})]})]})})]})},P=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(g,{})})}},6547:function(e,n){n.Z={backdrop:"Modal_backdrop__xrrQb",modal:"Modal_modal__xYw7Q","slide-down":"Modal_slide-down__2nDfw",modalBTN:"Modal_modalBTN__khJ4T",centralModal:"Modal_centralModal__gKzgM",float:"Modal_float__7EeUJ"}}}]);
//# sourceMappingURL=401.ff4cabc7.chunk.js.map