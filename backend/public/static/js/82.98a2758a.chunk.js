"use strict";(self.webpackChunkmy_box=self.webpackChunkmy_box||[]).push([[82],{5193:function(e,r,n){n(2791);r.Z=n.p+"static/media/icon-google.9a7800d06783d80a1c12249a8ca58e9d.svg"},7419:function(e,r,n){n.d(r,{Z:function(){return l}});var s=n(2791),a=n(5794),t="ConfirmModel_ModalAuthError__wWht-",o="ConfirmModel_modalButtons__tMHtf",i="ConfirmModel_modalBTNUnconfirm__wVr2V",c="ConfirmModel_modalBTNConfirm__+egAA",d=n(184),l=function(e){var r="en"===(0,s.useContext)(a.A).language;return(0,d.jsxs)("div",{className:t,children:[(0,d.jsx)("h1",{children:r?e.textEnglish:e.textUkranian}),(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("div",{className:i,id:"modalBtn",onClick:e.onUnconfirm,children:r?"No, i don`t!":"\u041d\u0456, \u043d\u0435 \u0445\u043e\u0447\u0443!"}),(0,d.jsx)("div",{className:c,id:"modalBtn",onClick:e.onConfirm,children:r?"Yeap":"\u0422\u0430\u043a"})]})]})}},2865:function(e,r,n){n.d(r,{Z:function(){return c}});var s=n(2791),a=n(5794),t="ErrorModal_ModalAuthError__NoA5V",o="ErrorModal_modalBTN__kzYEi",i=n(184),c=function(e){var r="en"===(0,s.useContext)(a.A).language;return(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)("h1",{children:r?"An error accured!":"\u0423\u043f\u0441... \u0412\u0456\u0434\u0431\u0443\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430!"}),(0,i.jsx)("p",{children:e.error}),(0,i.jsx)("div",{className:o,id:"modalBtn",onClick:e.onClick,children:"OK"})]})}},1095:function(e,r,n){var s=n(2791),a=n(6547),t=n(4164),o=n(184),i=function(e){return(0,o.jsx)("div",{onClick:null===e||void 0===e?void 0:e.onClick,className:a.Z.backdrop})},c=function(e){return(0,o.jsx)("div",{className:a.Z.modal,children:(0,o.jsx)("div",{children:e.children})})},d=document.getElementById("overlays");r.Z=function(e){return(0,s.useEffect)((function(){var e=document.getElementById("modalBtn");null===e||void 0===e||e.focus()}),[]),(0,o.jsxs)(o.Fragment,{children:[t.createPortal((0,o.jsx)(i,{onClick:null===e||void 0===e?void 0:e.onClick}),d),t.createPortal((0,o.jsx)(c,{children:e.children}),d)]})}},6004:function(e,r,n){n.d(r,{Z:function(){return _}});n(2791);var s="OrderBoxLoader_orderCardSceleton__DP7PL",a="OrderBoxLoader_orderCardSceletonInfo__LqiH2",t="OrderBoxLoader_orderCardSceletonStatus__gtuqP",o="OrderBoxLoader_orderCardSceletonBasicLine__VkDWw",i="OrderBoxLoader_orderCardSceletonSmallLine__Bo+4i",c="OrderBoxLoader_orderCardSceletonLargeLine__cn8S+",d="OrderBoxLoader_orderCardSceletonDescription__iO3ur",l="OrderBoxLoader_OBcontentModel__Gp44c",u=n(184),_=function(){return(0,u.jsxs)("div",{className:s,children:[(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)("div",{className:t}),(0,u.jsx)("div",{className:o}),(0,u.jsx)("div",{className:i}),(0,u.jsx)("div",{className:c}),(0,u.jsx)("div",{className:i})]}),(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("div",{className:t}),(0,u.jsx)("div",{className:c}),(0,u.jsx)("div",{className:o}),(0,u.jsx)("div",{className:i}),(0,u.jsx)("div",{className:i})]}),(0,u.jsx)("div",{className:l})]})}},82:function(e,r,n){n.r(r),n.d(r,{default:function(){return V}});var s=n(2791),a=n(4165),t=n(5861),o=n(9439),i=n(1224),c=n(5794),d="UserCard_wrapper__mNiy9",l="UserCard_UserCard__08pAn",u="UserCard_UserCardContent__kCEn9",_="UserCard_deleted__7kxOB",m="UserCard_UserCardContentInfo__rmRTs",h="UserCard_UserCardContentDescription__M-9dP",x="UserCard_Status__uyNn0",f="UserCard_googleIcon__swku9",j="UserCard_spanUser__UiLJx",v="UserCard_spanAdmin__4i3Xq",C="UserCard_Date__ODaay",g="UserCard_Check__+F+Hy",p="UserCard_DescTitle__OZfeb",N="UserCard_UserOrders__hYsSE",k="UserCard_delete__nUvho",U="UserCard_UserCardContentImg__q51He",w="UserCard_ButtonToAdmin__VBaeX",Z="UserCard_ButtonToUser__3vd9Y",B=n(1095),S=n(2865),y=n(7419),E=n(1087),L=n(5193),b=n(184),M=function(e){var r=(0,s.useState)(!1),n=(0,o.Z)(r,2),M=n[0],O=n[1],A=(0,s.useState)(!1),T=(0,o.Z)(A,2),D=T[0],I=T[1],P=(0,s.useState)(!1),V=(0,o.Z)(P,2),H=V[0],q=V[1],z=(0,s.useState)(!1),J=(0,o.Z)(z,2),Y=J[0],F=J[1],G=(0,s.useState)(!1),R=(0,o.Z)(G,2),K=R[0],Q=R[1],W=(0,s.useState)(null),X=(0,o.Z)(W,2),$=X[0],ee=X[1],re=(0,s.useContext)(i.V),ne=(re.logout,re.token),se=re.userId,ae=re.role,te="en"===(0,s.useContext)(c.A).language,oe=e.user.time,ie=te?"en-US":"uk-UA",ce=oe?new Date(oe):new Date,de=ce.toLocaleString(ie,{day:"numeric",month:"long",year:"numeric"}),le=ce.toLocaleString(ie,{hour:"numeric",minute:"numeric",second:"numeric"}),ue=function(){var r=(0,t.Z)((0,a.Z)().mark((function r(){var n,s;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,O(!0),ee(null),e.user.id&&""!==e.user.id){r.next=5;break}throw new Error("There is no userId");case 5:return r.next=7,fetch("".concat("http://localhost:5000/").concat(e.user.id),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer "+ne}});case 7:return n=r.sent,r.next=10,n.json();case 10:if(s=r.sent,n.ok){r.next=13;break}throw new Error(s.message);case 13:O(!1),I(!0),r.next=22;break;case 17:r.prev=17,r.t0=r.catch(0),console.log(r.t0),ee(r.t0.message||"Something went wrong, please try again  "),O(!1);case 22:case"end":return r.stop()}}),r,null,[[0,17]])})));return function(){return r.apply(this,arguments)}}(),_e=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(r,n){var s,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ee(null),F(!1),q(!0),r&&""!==r){e.next=6;break}throw new Error("There is no userId");case 6:return e.next=8,fetch("".concat("http://localhost:5000/","admin/").concat(r),{method:"PATCH",headers:{"Content-Type":"application/json",authorization:"Bearer "+ne},body:JSON.stringify({role:n,userId:se})});case 8:return s=e.sent,e.next=11,s.json();case 11:if(t=e.sent,s.ok){e.next=14;break}throw new Error(t.message);case 14:F(!0),q(!1),e.next=24;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),ee(e.t0.message||"Something went wrong, please try again  "),F(!1),q(!1);case 24:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(r,n){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{className:"".concat(l),children:(0,b.jsxs)("div",{className:d,children:[$&&(0,b.jsx)(B.Z,{onClick:function(){ee(null)},children:(0,b.jsx)(S.Z,{error:$,onClick:function(){ee(null)}})}),K&&(0,b.jsx)(B.Z,{onClick:function(){Q(!1)},children:(0,b.jsx)(y.Z,{textEnglish:"Do you really want to delete the user!?",textUkranian:"\u0412\u0438 \u043d\u0430\u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u044e\u0437\u0435\u0440\u0430!?",onUnconfirm:function(){Q(!1)},onConfirm:function(){Q(!1),ue()}})}),(0,b.jsxs)("div",{className:"".concat(u," ").concat(D?_:null),children:[(0,b.jsxs)("div",{className:m,children:[(0,b.jsxs)("div",{className:x,children:[(0,b.jsx)("span",{className:"".concat("user"===e.user.role?j:v),children:e.user.role}),e.user.byGoogle&&(0,b.jsx)("img",{src:L.Z,className:f,alt:"",height:20}),e.user.name]}),(0,b.jsxs)("div",{className:g,children:[te?"User id: ":"\u042e\u0437\u0435\u0440 id: ",(0,b.jsx)("span",{children:e.user.id})]}),(0,b.jsxs)("div",{className:g,children:["Email: ",(0,b.jsxs)("span",{children:[e.user.confirmedEmail?"(Ok) ":"(!Ok) ",e.user.email]})]}),(0,b.jsx)("div",{className:C,children:de}),(0,b.jsxs)("div",{className:C,children:[te?"At ":"O ",le]}),!e.isOrdering&&(0,b.jsxs)("div",{className:"".concat(k," ").concat(D?_:null),onClick:D?null:function(){return Q(!0)},children:[M&&te&&"Deleting...",M&&!te&&"\u0412\u0438\u0434\u0430\u043b\u044f\u0454\u0442\u044c\u0441\u044f...",!M&&te&&!D&&"Delete",!M&&!te&&!D&&"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",!M&&te&&D&&"Deleted",!M&&!te&&D&&"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e"]})]}),(0,b.jsxs)("div",{className:h,children:[(0,b.jsx)("div",{className:p,children:te?"Address":"\u0410\u0434\u0440\u0435\u0441"}),(0,b.jsxs)("div",{className:g,children:[te?"City: ":"\u041c\u0456\u0441\u0442\u043e: ",(0,b.jsx)("span",{children:e.user.city}),"\xa0",te?"Post: ":"\u041f\u043e\u0448\u0442\u0430: ",(0,b.jsxs)("span",{children:[e.user.post," "]})]}),(0,b.jsxs)("div",{className:g,children:[te?"Number: ":"\u041d\u043e\u043c\u0435\u0440: ",(0,b.jsxs)("span",{children:[e.user.number,"\xa0"]})]}),(0,b.jsxs)("div",{className:g,children:[te?"Orders: ":"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f: ",(0,b.jsx)(E.rU,{to:"/orders",onClick:function(){localStorage.setItem("user_id_for_orders",e.user.id)},className:N,children:(0,b.jsx)("span",{children:e.user.orders.length})})]}),(0,b.jsx)("div",{className:g,children:"main"===ae?"user"===e.user.role?(0,b.jsxs)("button",{className:w,onClick:function(){_e(e.user.id,"admin")},children:[H&&te&&"Changing...",H&&!te&&"\u0417\u043c\u0456\u043d\u044e\u0454\u043c\u043e...",!H&&te&&!Y&&"Change to admin",!H&&!te&&!Y&&"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u043e\u043c",!H&&te&&Y&&"Changed",!H&&!te&&Y&&"\u0417\u043c\u0456\u043d\u0435\u043d\u043e"]}):(0,b.jsxs)("button",{className:Z,onClick:function(){_e(e.user.id,"user")},children:[H&&te&&"Changing...",H&&!te&&"\u0417\u043c\u0456\u043d\u044e\u0454\u043c\u043e...",!H&&te&&!Y&&"Change to user",!H&&!te&&!Y&&"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u044e\u0437\u0435\u0440\u043e\u043c",!H&&te&&Y&&"Changed",!H&&!te&&Y&&"\u0417\u043c\u0456\u043d\u0435\u043d\u043e"]}):null})]}),(0,b.jsx)("div",{className:U,children:(0,b.jsx)("img",{src:e.user.image,width:130,height:130,alt:""})})]})]})})},O=(n(4469),"UsersList_wrapper__hHL-M"),A="UsersList_UsersListSection__lfRdJ",T="UsersList_UsersList__21t12",D=n(6004),I=n(7689),P=function(){var e=(0,s.useState)(null),r=(0,o.Z)(e,2),n=r[0],d=r[1],l=(0,s.useState)(!1),u=(0,o.Z)(l,2),_=u[0],m=u[1],h=(0,s.useState)(void 0),x=(0,o.Z)(h,2),f=x[0],j=x[1],v=(0,s.useContext)(i.V),C=v.token,g=v.userId,p=v.isLoggedIn,N=(0,I.s0)(),k=((0,s.useContext)(c.A).language,function(){var e=(0,t.Z)((0,a.Z)().mark((function e(){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),!g){e.next=18;break}return e.prev=2,e.next=5,fetch("".concat("http://localhost:5000/","admin/users/").concat(g),{method:"GET",headers:{authorization:"Bearer "+C}});case 5:if((r=e.sent).ok){e.next=8;break}throw new Error("Request failed");case 8:return e.next=10,r.json();case 10:n=e.sent,j(n),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0),d(e.t0.message||"Something went wrong, please try again  ");case 18:m(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}());return(0,s.useEffect)((function(){p||N("/authentication"),k()}),[]),(0,b.jsxs)("div",{className:A,children:[n&&(0,b.jsx)(B.Z,{onClick:function(){d(null)},children:(0,b.jsx)(S.Z,{error:n,onClick:function(){d(null)}})}),(0,b.jsx)("div",{className:O,children:(0,b.jsxs)("div",{className:T,children:[f&&f.users&&f.users.map((function(e){return(0,b.jsx)(M,{user:e},e.id)})),_&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D.Z,{}),(0,b.jsx)(D.Z,{}),(0,b.jsx)(D.Z,{})]})]})})]})},V=function(){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(P,{})})}},6547:function(e,r){r.Z={backdrop:"Modal_backdrop__xrrQb",modal:"Modal_modal__xYw7Q","slide-down":"Modal_slide-down__2nDfw",modalBTN:"Modal_modalBTN__khJ4T",centralModal:"Modal_centralModal__gKzgM",float:"Modal_float__7EeUJ"}}}]);
//# sourceMappingURL=82.98a2758a.chunk.js.map